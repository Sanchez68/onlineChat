(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{137:function(e,t,a){"use strict";a.r(t),a.d(t,"Context",(function(){return E}));var n=a(5),c=a(52),r=a.n(c),o=a(18),s=(a(96),a(176)),i=a(178),j=a(173),p=a(172),u="onlineChat/login",d=a(102),l=a.n(d),h=a(50),b=a(9),O=function(){var e=Object(n.useContext)(E).auth,t=Object(h.a)(e),a=Object(o.a)(t,1)[0];return Object(b.jsx)(s.a,{position:"static",children:Object(b.jsxs)(i.a,{variant:"dense",children:[Object(b.jsx)(j.a,{container:!0,justify:"flex-end"}),a?Object(b.jsx)(p.a,{onClick:function(){e.signOut()},variant:"contained",children:"Logout"}):Object(b.jsx)(l.a,{to:u,children:Object(b.jsx)(p.a,{variant:"contained",children:"Login"})})]})})},x=a(56),m=a(0),f=a.n(m),v=a(3),g=a(53),C=a.n(g),W=a(48),_=function(){var e=Object(n.useContext)(E).auth,t=function(){var t=Object(v.a)(f.a.mark((function t(){var a,n,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new W.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(a);case 3:n=t.sent,c=n.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:C.a.loginWrapper,children:Object(b.jsx)(p.a,{variant:"outlined",onClick:t,children:"Enter with Google"})})},w=a(175),y=a(171),N=a(107),k=function(){return Object(b.jsx)("div",{className:C.a.loaderWrapper,children:Object(b.jsx)("div",{className:"lds-hourglass"})})},I=function(){var e=Object(n.useContext)(E),t=e.auth,a=e.firestore,c=Object(h.a)(t),r=Object(o.a)(c,1)[0],s=Object(n.useState)(""),i=Object(o.a)(s,2),j=i[0],u=i[1],d=Object(N.a)(a.collection("messages").orderBy("createdAt")),l=Object(o.a)(d,2),O=l[0],x=l[1],m=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.collection("messages").add({uid:r.uid,displayName:r.displayName,photoURL:r.photoURL,text:j,createdAt:W.a.firestore.FieldValue.serverTimestamp()}),u("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return x?Object(b.jsx)(k,{}):Object(b.jsxs)("div",{className:C.a.chatWrapper,children:[Object(b.jsx)("div",{className:C.a.chatWindow,children:O.map((function(e){return Object(b.jsxs)("div",{className:C.a.messageWrapper,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(w.a,{src:e.photoURL}),Object(b.jsx)("div",{children:e.displayName})]}),Object(b.jsx)("div",{children:e.text})]},e.uid)}))}),Object(b.jsx)(y.a,{fullWidth:!0,maxRows:2,id:"filled-basic",label:"Filled",variant:"filled",value:j,onChange:function(e){return u(e.target.value)}}),Object(b.jsx)(p.a,{onClick:m,variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},A=[{path:u,Component:_}],B=[{path:"onlineChat/chat",Component:I}],L=a(89),R=a.n(L),z=function(){var e=Object(n.useContext)(E).auth,t=Object(h.a)(e);return Object(o.a)(t,1)[0]?Object(b.jsxs)(x.c,{children:[B.map((function(e){var t=e.path,a=e.Component;return Object(b.jsx)(x.b,{path:t,component:a})})),Object(b.jsx)(R.a,{to:"/onlineChat/login"})]}):Object(b.jsxs)(x.c,{children:[A.map((function(e){var t=e.path,a=e.Component;return Object(b.jsx)(x.b,{path:t,component:a})})),Object(b.jsx)(R.a,{to:"/onlineChat/chat"})]})},P=function(){var e=Object(n.useContext)(E).auth,t=Object(h.a)(e),a=Object(o.a)(t,3),c=(a[0],a[1]);a[2];return c?Object(b.jsx)(k,{}):Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{}),Object(b.jsx)(z,{})]})};a(63),a(41);W.a.initializeApp({apiKey:"AIzaSyB1S8zZhOP8dBNM2Hph0RAVBpq040ooMm0",authDomain:"chat-react-cedb2.firebaseapp.com",projectId:"chat-react-cedb2",storageBucket:"chat-react-cedb2.appspot.com",messagingSenderId:"966615400212",appId:"1:966615400212:web:565efb0db115ce87f2cc01",measurementId:"${config.measurementId}"});var S=W.a.auth(),V=W.a.firestore(),E=Object(n.createContext)(null);r.a.render(Object(b.jsx)(x.a,{children:Object(b.jsx)(E.Provider,{value:{firebase:W.a,auth:S,firestore:V},children:Object(b.jsx)(P,{})})}),document.getElementById("root"))},53:function(e,t,a){e.exports={loginWrapper:"components_loginWrapper__2WKxz",loaderWrapper:"components_loaderWrapper__JEvcV",chatWrapper:"components_chatWrapper__3VhGm",chatWindow:"components_chatWindow__2X90Q",messageWrapper:"components_messageWrapper__clqad"}},96:function(e,t,a){}},[[137,1,2]]]);
//# sourceMappingURL=main.71f9ebd1.chunk.js.map